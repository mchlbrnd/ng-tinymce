{"version":3,"file":"ng-tinymce.umd.js","sources":["../src/tinymce-editor-settings.service.js","../src/tinymce-editor.directive.js","../src/ng-tinymce.module.js"],"sourcesContent":["import { Injectable } from '@angular/core';\nexport var TinymceEditorSettingsService = (function () {\n    function TinymceEditorSettingsService() {\n        this.skin_url = '/assets/tinymce/skins/lightgray';\n        this.toolbar = 'undo redo | styleselect | bold italic | link image';\n        this.schema = 'html5';\n    }\n    TinymceEditorSettingsService.decorators = [\n        { type: Injectable },\n    ];\n    /** @nocollapse */\n    TinymceEditorSettingsService.ctorParameters = function () { return []; };\n    return TinymceEditorSettingsService;\n}());\n//# sourceMappingURL=tinymce-editor-settings.service.js.map","import { Directive, ElementRef, forwardRef, ChangeDetectorRef, EventEmitter, Output } from '@angular/core';\nimport { Input } from '@angular/core/src/metadata/directives';\nimport { TinymceEditorSettingsService } from './tinymce-editor-settings.service';\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\nexport var TinymceEditorDirective = (function () {\n    function TinymceEditorDirective(_elementRef, _changeDetectorRef, _providedSettings) {\n        var _this = this;\n        this._elementRef = _elementRef;\n        this._changeDetectorRef = _changeDetectorRef;\n        this._providedSettings = _providedSettings;\n        this._tinymceEditorSettings = {};\n        this._onInitialized = new EventEmitter();\n        this._tinymceOnChange = function () {\n            _this._value = _this._tinymceEditor.getContent();\n            _this._onChange(_this._value);\n            _this._changeDetectorRef.detectChanges();\n        };\n        this._tinymceInitInstanceCallback = function (editor) {\n            _this._tinymceEditor = editor;\n            _this._tinymceEditor.on('KeyUp', _this._tinymceOnChange);\n            _this._tinymceEditor.on('PastePostProcess', _this._tinymceOnChange);\n            _this._tinymceEditor.on('Change', _this._tinymceOnChange);\n            _this.writeValue(_this._value);\n            _this._onInitialized.emit(_this._tinymceEditor);\n        };\n    }\n    Object.defineProperty(TinymceEditorDirective.prototype, \"editor\", {\n        get: function () {\n            return this._tinymceEditor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TinymceEditorDirective.prototype.ngOnInit = function () {\n        var settings = {\n            init_instance_callback: this._tinymceInitInstanceCallback,\n            target: this._elementRef.nativeElement\n        };\n        settings = Object.assign({}, this._providedSettings, this._tinymceEditorSettings, settings);\n        tinymce.init(settings);\n    };\n    TinymceEditorDirective.prototype.ngOnDestroy = function () {\n        tinymce.remove(this._tinymceEditor);\n    };\n    TinymceEditorDirective.prototype.writeValue = function (value) {\n        if (value) {\n            this._value = value;\n            if (this._tinymceEditor) {\n                this._tinymceEditor.setContent(this._value, { format: 'raw' });\n            }\n        }\n    };\n    TinymceEditorDirective.prototype.registerOnChange = function (fn) {\n        this._onChange = fn;\n    };\n    TinymceEditorDirective.prototype.registerOnTouched = function (fn) { };\n    TinymceEditorDirective.decorators = [\n        { type: Directive, args: [{\n                    selector: 'p[tinymce], div[tinymce], textarea[tinymce]',\n                    exportAs: 'tinymce',\n                    providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: forwardRef(function () { return TinymceEditorDirective; }),\n                            multi: true\n                        }\n                    ]\n                },] },\n    ];\n    /** @nocollapse */\n    TinymceEditorDirective.ctorParameters = function () { return [\n        { type: ElementRef, },\n        { type: ChangeDetectorRef, },\n        { type: TinymceEditorSettingsService, },\n    ]; };\n    TinymceEditorDirective.propDecorators = {\n        '_tinymceEditorId': [{ type: Input, args: ['tinymce',] },],\n        '_tinymceEditorSettings': [{ type: Input, args: ['settings',] },],\n        '_onInitialized': [{ type: Output, args: ['onInitialized',] },],\n    };\n    return TinymceEditorDirective;\n}());\n//# sourceMappingURL=tinymce-editor.directive.js.map","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TinymceEditorDirective } from './tinymce-editor.directive';\nimport { TinymceEditorSettingsService } from './tinymce-editor-settings.service';\nexport var NgTinymceModule = (function () {\n    function NgTinymceModule() {\n    }\n    NgTinymceModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [\n                        CommonModule\n                    ],\n                    declarations: [\n                        TinymceEditorDirective\n                    ],\n                    providers: [\n                        TinymceEditorSettingsService\n                    ],\n                    exports: [\n                        TinymceEditorDirective\n                    ]\n                },] },\n    ];\n    /** @nocollapse */\n    NgTinymceModule.ctorParameters = function () { return []; };\n    return NgTinymceModule;\n}());\n//# sourceMappingURL=ng-tinymce.module.js.map"],"names":["Injectable","EventEmitter","Directive","NG_VALUE_ACCESSOR","forwardRef","ElementRef","ChangeDetectorRef","Input","Output","NgModule","CommonModule"],"mappings":"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"}