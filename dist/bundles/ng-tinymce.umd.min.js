!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/core/src/metadata/directives"),require("@angular/forms")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/core/src/metadata/directives","@angular/forms"],e):e(t["ng-tinymce"]=t["ng-tinymce"]||{},t.ng.core,t._angular_common,t._angular_core_src_metadata_directives,t._angular_forms)}(this,function(t,e,n,i,r){"use strict";var o=function(){function t(){this.skin_url="/assets/tinymce/skins/lightgray",this.toolbar="undo redo | styleselect | bold italic | link image",this.plugins="link paste",this.schema="html5"}return t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[]},t}(),c=function(){function t(t,n,i){var r=this;this._elementRef=t,this._changeDetectorRef=n,this._providedSettings=i,this._tinymceEditorSettings={},this._onInitialized=new e.EventEmitter,this._tinymceOnChange=function(){r._value=r._tinymceEditor.getContent(),r._onChange(r._value),r._changeDetectorRef.detectChanges()},this._tinymceInitInstanceCallback=function(t){r._tinymceEditor=t,r._tinymceEditor.on("KeyUp",r._tinymceOnChange),r._tinymceEditor.on("PastePostProcess",r._tinymceOnChange),r._tinymceEditor.on("Change",r._tinymceOnChange),r.writeValue(r._value),r._onInitialized.emit(r._tinymceEditor)}}return Object.defineProperty(t.prototype,"editor",{get:function(){return this._tinymceEditor},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t={init_instance_callback:this._tinymceInitInstanceCallback,target:this._elementRef.nativeElement};t=Object.assign({},this._providedSettings,this._tinymceEditorSettings,t),tinymce.init(t)},t.prototype.ngOnDestroy=function(){tinymce.remove(this._tinymceEditor)},t.prototype.writeValue=function(t){t&&(this._value=t,this._tinymceEditor&&this._tinymceEditor.setContent(this._value,{format:"raw"}))},t.prototype.registerOnChange=function(t){this._onChange=t},t.prototype.registerOnTouched=function(t){},t.decorators=[{type:e.Directive,args:[{selector:"p[tinymce], div[tinymce], textarea[tinymce]",exportAs:"tinymce",providers:[{provide:r.NG_VALUE_ACCESSOR,useExisting:e.forwardRef(function(){return t}),multi:!0}]}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.ChangeDetectorRef},{type:o}]},t.propDecorators={_tinymceEditorId:[{type:i.Input,args:["tinymce"]}],_tinymceEditorSettings:[{type:i.Input,args:["settings"]}],_onInitialized:[{type:e.Output,args:["onInitialized"]}]},t}(),a=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[c],providers:[o],exports:[c]}]}],t.ctorParameters=function(){return[]},t}();t.NgTinymceModule=a,t.TinymceEditorSettingsService=o,t.TinymceEditorDirective=c,Object.defineProperty(t,"__esModule",{value:!0})});